$((function(){var e=$(".js-to-inch"),t=$(".js-to-meters");function i(e,t){(e=t||e.closest("form")).find(".js-error-block").remove(),e.find(".error-input").removeClass("error-input")}function r(e,t,i){var r;$(".js-error-block").length||((r=$("<div />")).addClass("error-block js-error-block"),r.text(i),e.find("button").first().before(r)),t.addClass("error-input")}s=25.4,a={notAllData:$(".js-error-no-all-data").text().trim(),badCalculations:$(".js-error-bad-calculations").text().trim()},t.submit((function(e){var d,l;e.preventDefault(),i(!1,l=t),l.fields={fullDiametrInch:l.find(".js-full-diametr-inch"),widthInch:l.find(".js-width-inch"),radiusInch:l.find(".js-radius-inch"),widthMeter:l.find(".js-width-meter"),heightMeter:l.find(".js-height-meter"),radiusMeter:l.find(".js-radius-meter")},(d={fullDiametrInch:parseFloat(l.fields.fullDiametrInch.val().trim()),widthInch:parseFloat(l.fields.widthInch.val().trim()),radiusInch:parseFloat(l.fields.radiusInch.val().trim())}).fullDiametrInch||(d.fullDiametrInch=parseInt(d.widthInch.toFixed(2).slice(-1))?.82*d.widthInch*2+d.radiusInch:.92*d.widthInch*2+d.radiusInch),d.widthMeter=function(){var e=5*Math.round(d.widthInch*s/5);return e<0&&r(l,l.fields.widthMeter,a.badCalculations),e}(),d.heightMeter=function(){var e=5*Math.round((d.fullDiametrInch-d.radiusInch)/2*100/d.widthInch/5);return e<0&&r(l,l.fields.heightMeter,a.badCalculations),e}(),d.radiusMeter=d.radiusInch,l.fields.widthMeter.val(d.widthMeter),l.fields.heightMeter.val(d.heightMeter),l.fields.radiusMeter.val(d.radiusMeter)})),e.submit((function(t){function d(){return Math.round(l.meterRadius+2*l.inchHeight)}var l,h;t.preventDefault(),i(!1,h=e),h.fields={meterWidth:h.find(".js-meter-width"),meterHeight:h.find(".js-meter-height"),meterRadius:h.find(".js-meter-radius"),meterFullDiameter:h.find(".js-meter-full-diametr"),inchWidth:h.find(".js-inch-width"),inchHeight:h.find(".js-inch-height")},(l={meterWidth:parseFloat(h.fields.meterWidth.val()),meterHeight:parseFloat(h.fields.meterHeight.val()),meterRadius:parseFloat(h.fields.meterRadius.val()),meterFullDiameter:parseFloat(h.fields.meterFullDiameter.val())}).meterWidth&&l.meterHeight&&l.meterRadius?(t=d(),l.meterFullDiameter=t,h.fields.meterFullDiameter.val(l.meterFullDiameter)):!l.meterWidth&&l.meterHeight&&l.meterRadius&&l.meterFullDiameter?(l.meterWidth=function(){var e=(l.meterFullDiameter-l.meterRadius)/2*s;return(e=5*Math.round(100*e/l.meterHeight/5))<0&&r(h,h.fields.meterWidth,a.badCalculations),e}(),h.fields.meterWidth.val(l.meterWidth)):l.meterWidth&&!l.meterHeight&&l.meterRadius&&l.meterFullDiameter?(l.meterHeight=function(){var e=(l.meterFullDiameter-l.meterRadius)/2*s;return(e=Math.round(100*e/l.meterWidth*5)/5)<0&&r(h,h.fields.meterHeight,a.badCalculations),e}(),h.fields.meterHeight.val(l.meterHeight)):l.meterWidth&&l.meterHeight&&!l.meterRadius&&l.meterFullDiameter?(l.meterRadius=function(){var e=Math.round(2*(l.meterFullDiameter-l.meterWidth*l.meterHeight/100/s*2))/2;return e<0&&r(h,h.fields.meterRadius,a.badCalculations),e}(),h.fields.meterRadius.val(l.meterRadius)):(l.meterWidth||r(h,h.fields.meterWidth,a.notAllData),l.meterHeight||r(h,h.fields.meterHeight,a.notAllData),l.meterRadius||r(h,h.fields.meterRadius,a.notAllData)),l.inchWidth=function(){var e=(Math.round(l.meterWidth/s*2)/2).toFixed(1);return e<0&&r(h,h.fields.inchWidth,a.badCalculations),e}(),l.inchHeight=function(){var e=parseFloat((l.meterWidth*(l.meterHeight/100)/s).toFixed(1));return e<0&&r(h,h.fields.inchHeight,a.badCalculations),e}(),l.meterFullDiameter=d(),h.fields.inchWidth.val(l.inchWidth),h.fields.inchHeight.val(l.inchHeight),h.fields.meterFullDiameter.val(l.meterFullDiameter)}))}));